<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>oscl_socket_types.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>oscl_socket_types.h</h1><a href="oscl__socket__types_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 
00003 <span class="preprocessor">#ifndef OSCL_SOCKET_TYPES_H_INCLUDED</span>
00004 <span class="preprocessor"></span><span class="preprocessor">#define OSCL_SOCKET_TYPES_H_INCLUDED</span>
00005 <span class="preprocessor"></span>
00006 <span class="preprocessor">#include "<a class="code" href="osclconfig__io_8h.html">osclconfig_io.h</a>"</span>
00007 <span class="preprocessor">#include "<a class="code" href="oscl__types_8h.html">oscl_types.h</a>"</span>
00008 <span class="preprocessor">#include "<a class="code" href="oscl__scheduler__types_8h.html">oscl_scheduler_types.h</a>"</span>
00009 <span class="preprocessor">#include "<a class="code" href="oscl__namestring_8h.html">oscl_namestring.h</a>"</span>
00010 <span class="preprocessor">#include "<a class="code" href="oscl__stdstring_8h.html">oscl_stdstring.h</a>"</span>
00011 
<a name="l00012"></a><a class="code" href="oscl__socket__types_8h.html#a27">00012</a> <span class="keyword">enum</span> <a class="code" href="oscl__socket__types_8h.html#a27">TPVSocketFxn</a>
00013 {
00014     <a class="code" href="oscl__socket__types_8h.html#a27a1">EPVSocketSend</a> = 0
00015     , <a class="code" href="oscl__socket__types_8h.html#a27a2">EPVSocketSendTo</a>
00016     , <a class="code" href="oscl__socket__types_8h.html#a27a3">EPVSocketRecv</a>
00017     , <a class="code" href="oscl__socket__types_8h.html#a27a4">EPVSocketRecvFrom</a>
00018     , <a class="code" href="oscl__socket__types_8h.html#a27a5">EPVSocketConnect</a>
00019     , <a class="code" href="oscl__socket__types_8h.html#a27a6">EPVSocketAccept</a>
00020     , <a class="code" href="oscl__socket__types_8h.html#a27a7">EPVSocketShutdown</a>
00021     , <a class="code" href="oscl__socket__types_8h.html#a27a8">EPVSocketBind</a>
00022     , <a class="code" href="oscl__socket__types_8h.html#a27a9">EPVSocketListen</a>
00023     , <a class="code" href="oscl__socket__types_8h.html#a27a10">EPVSocket_Last</a> <span class="comment">//placeholder</span>
00024 } ;
00025 
<a name="l00028"></a><a class="code" href="oscl__socket__types_8h.html#a28">00028</a> <span class="keyword">enum</span> <a class="code" href="oscl__socket__types_8h.html#a28">TPVSocketEvent</a>
00029 {
00030     <a class="code" href="oscl__socket__types_8h.html#a28a11">EPVSocketSuccess</a>
00031     , <a class="code" href="oscl__socket__types_8h.html#a28a12">EPVSocketPending</a>
00032     , <a class="code" href="oscl__socket__types_8h.html#a28a13">EPVSocketTimeout</a>
00033     , <a class="code" href="oscl__socket__types_8h.html#a28a14">EPVSocketFailure</a>
00034     , <a class="code" href="oscl__socket__types_8h.html#a28a15">EPVSocketCancel</a>
00035     , <a class="code" href="oscl__socket__types_8h.html#a28a16">EPVSocketNotImplemented</a> <span class="comment">//for unavailable features.</span>
00036 } ;
00037 
<a name="l00038"></a><a class="code" href="oscl__socket__types_8h.html#a29">00038</a> <span class="keyword">enum</span> <a class="code" href="oscl__socket__types_8h.html#a29">TPVSocketShutdown</a>
00039 {
00040     <a class="code" href="oscl__socket__types_8h.html#a29a17">EPVSocketSendShutdown</a>
00041     , <a class="code" href="oscl__socket__types_8h.html#a29a18">EPVSocketRecvShutdown</a>
00042     , <a class="code" href="oscl__socket__types_8h.html#a29a19">EPVSocketBothShutdown</a>
00043 } ;
00044 
<a name="l00045"></a><a class="code" href="classOsclSocketTOS.html">00045</a> <span class="keyword">class </span><a class="code" href="classOsclSocketTOS.html">OsclSocketTOS</a>
00046 {
00047     <span class="keyword">public</span>:
<a name="l00048"></a><a class="code" href="classOsclSocketTOS.html#s12">00048</a>         <span class="keyword">enum</span> <a class="code" href="classOsclSocketTOS.html#s12">TPVServicePrecedence</a>
00049         {
00050             <a class="code" href="classOsclSocketTOS.html#s12s0">EPVRoutine</a>        = 0,
00051             <a class="code" href="classOsclSocketTOS.html#s12s1">EPVPriority</a>       = 1,
00052             <a class="code" href="classOsclSocketTOS.html#s12s2">EPVImmediate</a>      = 2,
00053             <a class="code" href="classOsclSocketTOS.html#s12s3">EPVFlash</a>          = 3,
00054             <a class="code" href="classOsclSocketTOS.html#s12s4">EPVOverrideFlash</a>  = 4,
00055             <a class="code" href="classOsclSocketTOS.html#s12s5">EPVCritic_Ecp</a>     = 5,
00056             <a class="code" href="classOsclSocketTOS.html#s12s6">EPVInetControl</a>    = 6,
00057             <a class="code" href="classOsclSocketTOS.html#s12s7">EPVNetControl</a>     = 7
00058         };
00059 
<a name="l00060"></a><a class="code" href="classOsclSocketTOS.html#s13">00060</a>         <span class="keyword">enum</span> <a class="code" href="classOsclSocketTOS.html#s13">TPVServicePriority</a>
00061         {
00062             <a class="code" href="classOsclSocketTOS.html#s13s8">EPVNoTOS</a>        = 0x0,
00063             <a class="code" href="classOsclSocketTOS.html#s13s9">EPVLDelay</a>       = (1 &lt;&lt; 4),
00064             <a class="code" href="classOsclSocketTOS.html#s13s10">EPVHiThrpt</a>      = (1 &lt;&lt; 3),
00065             <a class="code" href="classOsclSocketTOS.html#s13s11">EPVHiRel</a>        = (1 &lt;&lt; 2)
00066         };
00067 
<a name="l00068"></a><a class="code" href="classOsclSocketTOS.html#a0">00068</a>         <a class="code" href="classOsclSocketTOS.html#a0">OsclSocketTOS</a>(): iTOSUnusedBits(2), iTOSPriorityBits(3)
00069         {
00070             <a class="code" href="classOsclSocketTOS.html#a3">ClearTOS</a>();
00071         }
00072 
<a name="l00073"></a><a class="code" href="classOsclSocketTOS.html#a1">00073</a>         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketTOS.html#a1">SetPrecedence</a>(<a class="code" href="classOsclSocketTOS.html#s12">TPVServicePrecedence</a> aPrecedence)
00074         {
00075             iPrecedence = aPrecedence;
00076         }
00077 
<a name="l00078"></a><a class="code" href="classOsclSocketTOS.html#a2">00078</a>         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketTOS.html#a2">SetPriority</a>(<span class="keywordtype">bool</span> aMinimizeDelay, <span class="keywordtype">bool</span> aMaximizeThroughput, <span class="keywordtype">bool</span> MaximizeReliability)
00079         {
00080             iPriority   = (aMinimizeDelay ? <a class="code" href="classOsclSocketTOS.html#s13s9">EPVLDelay</a> : <a class="code" href="classOsclSocketTOS.html#s13s8">EPVNoTOS</a>) | (aMaximizeThroughput ? <a class="code" href="classOsclSocketTOS.html#s13s10">EPVHiThrpt</a> : <a class="code" href="classOsclSocketTOS.html#s13s8">EPVNoTOS</a>) | (MaximizeReliability ? <a class="code" href="classOsclSocketTOS.html#s13s11">EPVHiRel</a> : <a class="code" href="classOsclSocketTOS.html#s13s8">EPVNoTOS</a>);
00081         }
00082 
<a name="l00083"></a><a class="code" href="classOsclSocketTOS.html#a3">00083</a>         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketTOS.html#a3">ClearTOS</a>()
00084         {
00085             iPrecedence = <a class="code" href="classOsclSocketTOS.html#s12s0">OsclSocketTOS::EPVRoutine</a>;
00086             iPriority   = <a class="code" href="classOsclSocketTOS.html#s13s8">OsclSocketTOS::EPVNoTOS</a>;
00087         }
00088 
<a name="l00089"></a><a class="code" href="classOsclSocketTOS.html#a4">00089</a>         uint8 <a class="code" href="classOsclSocketTOS.html#a4">GetTOS</a>()<span class="keyword"> const</span>
00090 <span class="keyword">        </span>{
00097             <span class="keywordflow">return</span> ((iPrecedence &lt;&lt; (iTOSPriorityBits + iTOSUnusedBits) &amp; 0xFF) || ((iPriority &lt;&lt; iTOSUnusedBits) &amp; 0xFF));
00098         }
00099 
00100     <span class="keyword">private</span>:
00101         uint8    iPrecedence;
00102         uint8    iPriority;
00103         <span class="keyword">const</span> uint8 iTOSUnusedBits;
00104         <span class="keyword">const</span> uint8 iTOSPriorityBits;
00105 };
00106 
<a name="l00107"></a><a class="code" href="oscl__socket__types_8h.html#a30">00107</a> <span class="keyword">enum</span> <a class="code" href="oscl__socket__types_8h.html#a30">TPVSocketOptionName</a>
00108 {
00109     <span class="comment">//IP Level</span>
00110     <a class="code" href="oscl__socket__types_8h.html#a30a20">EPVIPMulticastTTL</a>
00111     , <a class="code" href="oscl__socket__types_8h.html#a30a21">EPVIPAddMembership</a>
00112     , <a class="code" href="oscl__socket__types_8h.html#a30a22">EPVIPTOS</a>
00113     <span class="comment">//Socket level</span>
00114     , <a class="code" href="oscl__socket__types_8h.html#a30a23">EPVSockReuseAddr</a>  <span class="comment">//On Symbian this option is at IP level...</span>
00115 } ;
00116 
<a name="l00117"></a><a class="code" href="oscl__socket__types_8h.html#a31">00117</a> <span class="keyword">enum</span> <a class="code" href="oscl__socket__types_8h.html#a31">TPVSocketOptionLevel</a>
00118 {
00119     <a class="code" href="oscl__socket__types_8h.html#a31a24">EPVIPProtoIP</a>
00120     , <a class="code" href="oscl__socket__types_8h.html#a31a25">EPVIPProtoTCP</a>
00121     , <a class="code" href="oscl__socket__types_8h.html#a31a26">EPVSocket</a>
00122 } ;
<a name="l00123"></a><a class="code" href="oscl__socket__types_8h.html#a0">00123</a> <span class="preprocessor">#define PVNETWORKADDRESS_LEN 50</span>
00124 <span class="preprocessor"></span>
<a name="l00125"></a><a class="code" href="classOsclNetworkAddress.html">00125</a> <span class="keyword">class </span><a class="code" href="classOsclNetworkAddress.html">OsclNetworkAddress</a>
00126 {
00127     <span class="keyword">public</span>:
<a name="l00128"></a><a class="code" href="classOsclNetworkAddress.html#a0">00128</a>         <a class="code" href="classOsclNetworkAddress.html#a0">OsclNetworkAddress</a>(): <a class="code" href="classOsclNetworkAddress.html#m1">port</a>(0)
00129         {
00130         }
<a name="l00131"></a><a class="code" href="classOsclNetworkAddress.html#a1">00131</a>         <a class="code" href="classOsclNetworkAddress.html#a0">OsclNetworkAddress</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *addr, <span class="keywordtype">int</span> p)
00132         {
00133             <a class="code" href="classOsclNetworkAddress.html#m0">ipAddr</a>.<a class="code" href="classOsclNameString.html#a3">Set</a>(addr);
00134             <a class="code" href="classOsclNetworkAddress.html#m1">port</a> = p;
00135         }
00136 
00137         <span class="comment">//Network address in dotted decimal string format.</span>
<a name="l00138"></a><a class="code" href="classOsclNetworkAddress.html#m0">00138</a>         <a class="code" href="classOsclNameString.html">OsclNameString&lt;PVNETWORKADDRESS_LEN&gt;</a> <a class="code" href="classOsclNetworkAddress.html#m0">ipAddr</a>;
00139 
00140         <span class="comment">//Port number.</span>
<a name="l00141"></a><a class="code" href="classOsclNetworkAddress.html#m1">00141</a>         <span class="keywordtype">int</span> <a class="code" href="classOsclNetworkAddress.html#m1">port</a>;
00142         <span class="comment">//@cmember equality comparison operator</span>
<a name="l00143"></a><a class="code" href="classOsclNetworkAddress.html#a2">00143</a>         <span class="keywordtype">bool</span> <a class="code" href="classOsclNetworkAddress.html#a2">operator == </a>(<span class="keyword">const</span> <a class="code" href="classOsclNetworkAddress.html">OsclNetworkAddress</a> &amp; rhs)<span class="keyword"> const</span>
00144 <span class="keyword">        </span>{
00145             <span class="keywordflow">if</span> (<a class="code" href="classOsclNetworkAddress.html#m1">port</a> == rhs.<a class="code" href="classOsclNetworkAddress.html#m1">port</a>)
00146             {
00147                 <span class="keywordflow">if</span> (0 == <a class="code" href="group__osclbase.html#a49">oscl_strcmp</a>((<span class="keyword">const</span> <span class="keywordtype">char</span>*)ipAddr.<a class="code" href="classOsclNameString.html#a5">Str</a>(), (<span class="keyword">const</span> <span class="keywordtype">char</span>*)rhs.<a class="code" href="classOsclNetworkAddress.html#m0">ipAddr</a>.<a class="code" href="classOsclNameString.html#a5">Str</a>()))
00148                     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00149             }
00150             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00151         };
00152 
00153 } ;
00154 
<a name="l00155"></a><a class="code" href="classOsclIpMReq.html">00155</a> <span class="keyword">class </span><a class="code" href="classOsclIpMReq.html">OsclIpMReq</a>
00156 {
00157     <span class="keyword">public</span>:
<a name="l00158"></a><a class="code" href="classOsclIpMReq.html#a0">00158</a>         <a class="code" href="classOsclIpMReq.html#a0">OsclIpMReq</a>(
00159             <span class="keyword">const</span> <span class="keywordtype">char</span> *intrfcAddr
00160             , <span class="keyword">const</span> <span class="keywordtype">char</span>* multcstAddr)
00161         {
00162             <a class="code" href="classOsclIpMReq.html#m0">interfaceAddr</a>.<a class="code" href="classOsclNameString.html#a3">Set</a>(intrfcAddr);
00163             <a class="code" href="classOsclIpMReq.html#m1">multicastAddr</a>.<a class="code" href="classOsclNameString.html#a3">Set</a>(multcstAddr);
00164         }
<a name="l00165"></a><a class="code" href="classOsclIpMReq.html#m0">00165</a>         <a class="code" href="classOsclNameString.html">OsclNameString&lt;PVNETWORKADDRESS_LEN&gt;</a> <a class="code" href="classOsclIpMReq.html#m0">interfaceAddr</a>;
<a name="l00166"></a><a class="code" href="classOsclIpMReq.html#m1">00166</a>         <a class="code" href="classOsclNameString.html">OsclNameString&lt;PVNETWORKADDRESS_LEN&gt;</a> <a class="code" href="classOsclIpMReq.html#m1">multicastAddr</a>;
00167 };
00168 
<a name="l00173"></a><a class="code" href="classOsclSocketObserver.html">00173</a> <span class="keyword">class </span><a class="code" href="classOsclSocketObserver.html">OsclSocketObserver</a>
00174 {
00175     <span class="keyword">public</span>:
00188         <a class="code" href="osclconfig_8h.html#a3">OSCL_IMPORT_REF</a> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketObserver.html#a0">HandleSocketEvent</a>(int32 aId, <a class="code" href="oscl__socket__types_8h.html#a27">TPVSocketFxn</a> aFxn, <a class="code" href="oscl__socket__types_8h.html#a28">TPVSocketEvent</a> aEvent, int32 aError) = 0;
<a name="l00189"></a><a class="code" href="classOsclSocketObserver.html#a1">00189</a>         <span class="keyword">virtual</span> <a class="code" href="classOsclSocketObserver.html#a1">~OsclSocketObserver</a>() {}
00190 };
00191 
00192 
00193 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><img src="pvlogo_small.jpg"><address style="align: right;"><small>OSCL API</small>
<address style="align: left;"><small>Posting Version: CORE_8.504.1.1 </small>
</small></address>
</body>
</html>

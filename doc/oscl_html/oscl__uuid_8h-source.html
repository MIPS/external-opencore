<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>oscl_uuid.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>oscl_uuid.h</h1><a href="oscl__uuid_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00007 <span class="preprocessor">#ifndef OSCL_UUID_H_INCLUDED</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#define OSCL_UUID_H_INCLUDED</span>
00009 <span class="preprocessor"></span>
00010 <span class="preprocessor">#ifndef OSCL_BASE_H_INCLUDED</span>
00011 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="oscl__base_8h.html">oscl_base.h</a>"</span>
00012 <span class="preprocessor">#endif</span>
00013 <span class="preprocessor"></span>
00014 <span class="preprocessor">#ifndef OSCL_MEM_BASIC_FUNCTIONS_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="oscl__mem__basic__functions_8h.html">oscl_mem_basic_functions.h</a>"</span>
00016 <span class="preprocessor">#endif</span>
00017 <span class="preprocessor"></span>
00018 <span class="preprocessor">#ifndef OSCL_STRING_UTILS_H</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="oscl__string__utils_8h.html">oscl_string_utils.h</a>"</span>
00020 <span class="preprocessor">#endif</span>
00021 <span class="preprocessor"></span>
00022 <span class="preprocessor">#ifndef OSCL_STDSTRING_H_INCLUDED</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="oscl__stdstring_8h.html">oscl_stdstring.h</a>"</span>
00024 <span class="preprocessor">#endif</span>
00025 <span class="preprocessor"></span><span class="comment">// __cplusplus</span>
00026 
<a name="l00027"></a><a class="code" href="oscl__uuid_8h.html#a0">00027</a> <span class="preprocessor">#define EMPTY_UUID PVUuid(0,0,0,0,0,0,0,0,0,0,0)</span>
00028 <span class="preprocessor"></span>
<a name="l00029"></a><a class="code" href="oscl__uuid_8h.html#a2">00029</a> <span class="keyword">typedef</span> uint32 <a class="code" href="oscl__uuid_8h.html#a2">OsclUid32</a>;
<a name="l00030"></a><a class="code" href="oscl__uuid_8h.html#a3">00030</a> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="oscl__uuid_8h.html#a3">PV_CHAR_CLOSE_BRACKET</a> = <span class="charliteral">')'</span>;
<a name="l00031"></a><a class="code" href="oscl__uuid_8h.html#a4">00031</a> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="oscl__uuid_8h.html#a4">PV_CHAR_COMMA</a> = <span class="charliteral">','</span>;
<a name="l00035"></a><a class="code" href="structOsclUuid.html">00035</a> <span class="keyword">struct </span><a class="code" href="structOsclUuid.html">OsclUuid</a>
00036 {
<a name="l00037"></a><a class="code" href="oscl__uuid_8h.html#a1">00037</a> <span class="preprocessor">#define BYTES_IN_UUID_ARRAY 8</span>
00038 <span class="preprocessor"></span>
<a name="l00039"></a><a class="code" href="structOsclUuid.html#a0">00039</a>     <a class="code" href="structOsclUuid.html#a0">OsclUuid</a>()
00040     {
00041         <a class="code" href="group__osclmemory.html#a14">oscl_memset</a>(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(<a class="code" href="structOsclUuid.html">OsclUuid</a>));
00042     }
00043 
<a name="l00044"></a><a class="code" href="structOsclUuid.html#a1">00044</a>     <a class="code" href="structOsclUuid.html#a0">OsclUuid</a>(uint32 l, uint16 w1, uint16 w2, uint8 b1, uint8 b2, uint8 b3,
00045              uint8 b4, uint8 b5, uint8 b6, uint8 b7, uint8 b8)
00046     {
00047         <a class="code" href="structOsclUuid.html#m0">data1</a> = l;
00048         <a class="code" href="structOsclUuid.html#m1">data2</a> = w1;
00049         <a class="code" href="structOsclUuid.html#m2">data3</a> = w2;
00050         <a class="code" href="structOsclUuid.html#m3">data4</a>[0] = b1;
00051         <a class="code" href="structOsclUuid.html#m3">data4</a>[1] = b2;
00052         <a class="code" href="structOsclUuid.html#m3">data4</a>[2] = b3;
00053         <a class="code" href="structOsclUuid.html#m3">data4</a>[3] = b4;
00054         <a class="code" href="structOsclUuid.html#m3">data4</a>[4] = b5;
00055         <a class="code" href="structOsclUuid.html#m3">data4</a>[5] = b6;
00056         <a class="code" href="structOsclUuid.html#m3">data4</a>[6] = b7;
00057         <a class="code" href="structOsclUuid.html#m3">data4</a>[7] = b8;
00058     }
00059 
00060     <span class="comment">//The OSCL UUID structure takes in a string parameter</span>
00061     <span class="comment">//Expected string input for the OsclString should be like:</span>
00062     <span class="comment">//(0xa054569c,0x24c5,0x452e,0x99,0x77,0x87,0x4b,0xca,0x79,0xd3,0xaf)</span>
00063 
<a name="l00064"></a><a class="code" href="structOsclUuid.html#a2">00064</a>     <a class="code" href="structOsclUuid.html#a0">OsclUuid</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* aUuidString)
00065     {
00066         <span class="comment">//Initialize all data members to 0 to begin with</span>
00067         <a class="code" href="structOsclUuid.html#m0">data1</a> = <a class="code" href="structOsclUuid.html#m1">data2</a> = <a class="code" href="structOsclUuid.html#m2">data3</a> = 0;
00068 
00069         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; 8; ++ii)
00070         {
00071             <a class="code" href="structOsclUuid.html#m3">data4</a>[ii] = 0;
00072         }
00073 
00074         <span class="keywordflow">if</span> (!aUuidString)
00075         {
00076             <span class="keywordflow">return</span>;
00077         }
00078         <span class="keywordtype">int</span> uuidStrLen = <a class="code" href="group__osclbase.html#a45">oscl_strlen</a>(aUuidString);
00079 
00080         <span class="keywordflow">if</span> (uuidStrLen != 0)
00081         {
00082             <span class="keyword">const</span> <span class="keywordtype">char</span>* sptr = <a class="code" href="group__osclbase.html#a88">NULL</a>, *eptr = <a class="code" href="group__osclbase.html#a88">NULL</a>;
00083             <span class="keywordtype">int</span> commaval = 0;
00084             sptr = aUuidString;
00085             ++sptr; <span class="comment">//Increment over the starting parantheses '('</span>
00086             eptr = sptr;
00087             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; uuidStrLen - 1 ; ++i)
00088             {
00089                 <span class="keywordflow">if</span> ((*eptr != <a class="code" href="oscl__uuid_8h.html#a4">PV_CHAR_COMMA</a>) &amp;&amp; (*eptr != <a class="code" href="oscl__uuid_8h.html#a3">PV_CHAR_CLOSE_BRACKET</a>)) <span class="comment">//Increment the pointer unless you get to the ","</span>
00090                 {                               <span class="comment">//The comma signifies the beginning of the new OsclUuid parameter</span>
00091                     ++eptr;
00092                 }
00093                 <span class="keywordflow">else</span>
00094                 {
00095                     sptr = sptr + 2;<span class="comment">//Move over the 0x characters in the beginning of the hex value;</span>
00096                     ++commaval;
00097                     <span class="keywordflow">switch</span> (commaval)
00098                     {
00099                         <span class="keywordflow">case</span> 1:
00100                         {
00101                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, eptr - sptr, <a class="code" href="structOsclUuid.html#m0">data1</a>);
00102                             <span class="keywordflow">break</span>;
00103                         }
00104                         <span class="keywordflow">case</span> 2:
00105                         {
00106                             uint32 tempdata2 = 0;
00107                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, (eptr - sptr), tempdata2);
00108                             <a class="code" href="structOsclUuid.html#m1">data2</a> = (uint16)tempdata2;
00109                             <span class="keywordflow">break</span>;
00110                         }
00111                         <span class="keywordflow">case</span> 3:
00112                         {
00113                             uint32 tempdata3 = 0;
00114                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, (eptr - sptr), tempdata3);
00115                             <a class="code" href="structOsclUuid.html#m2">data3</a> = (uint16)tempdata3;
00116                             <span class="keywordflow">break</span>;
00117                         }
00118                         <span class="keywordflow">case</span> 4:
00119                         {
00120                             uint32 tempdata4_0 = 0;
00121                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, (eptr - sptr), tempdata4_0);
00122                             <a class="code" href="structOsclUuid.html#m3">data4</a>[0] = (uint8)tempdata4_0;
00123                             <span class="keywordflow">break</span>;
00124                         }
00125                         <span class="keywordflow">case</span> 5:
00126                         {
00127                             uint32 tempdata4_1 = 0;
00128                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, (eptr - sptr), tempdata4_1);
00129                             <a class="code" href="structOsclUuid.html#m3">data4</a>[1] = (uint8)tempdata4_1;
00130                             <span class="keywordflow">break</span>;
00131                         }
00132                         <span class="keywordflow">case</span> 6:
00133                         {
00134                             uint32 tempdata4_2 = 0;
00135                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, (eptr - sptr), tempdata4_2);
00136                             <a class="code" href="structOsclUuid.html#m3">data4</a>[2] = (uint8)tempdata4_2;
00137                             <span class="keywordflow">break</span>;
00138                         }
00139                         <span class="keywordflow">case</span> 7:
00140                         {
00141                             uint32 tempdata4_3 = 0;
00142                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, (eptr - sptr), tempdata4_3);
00143                             <a class="code" href="structOsclUuid.html#m3">data4</a>[3] = (uint8)tempdata4_3;
00144                             <span class="keywordflow">break</span>;
00145                         }
00146                         <span class="keywordflow">case</span> 8:
00147                         {
00148                             uint32 tempdata4_4 = 0;
00149                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, (eptr - sptr), tempdata4_4);
00150                             <a class="code" href="structOsclUuid.html#m3">data4</a>[4] = (uint8)tempdata4_4;
00151                             <span class="keywordflow">break</span>;
00152                         }
00153                         <span class="keywordflow">case</span> 9:
00154                         {
00155                             uint32 tempdata4_5 = 0;
00156                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, (eptr - sptr), tempdata4_5);
00157                             <a class="code" href="structOsclUuid.html#m3">data4</a>[5] = (uint8)tempdata4_5;
00158                             <span class="keywordflow">break</span>;
00159                         }
00160                         <span class="keywordflow">case</span> 10:
00161                         {
00162                             uint32 tempdata4_6 = 0;
00163                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr , <span class="charliteral">'x'</span>, (eptr - sptr), tempdata4_6);
00164                             <a class="code" href="structOsclUuid.html#m3">data4</a>[6] = (uint8)tempdata4_6;
00165                             <span class="keywordflow">break</span>;
00166                         }
00167                         <span class="keywordflow">case</span> 11:
00168                         {
00169                             uint32 tempdata4_7 = 0;
00170                             <a class="code" href="group__osclutil.html#a19">PV_atoi</a>(sptr, <span class="charliteral">'x'</span>, (eptr - sptr), tempdata4_7);
00171                             <a class="code" href="structOsclUuid.html#m3">data4</a>[7] = (uint8)tempdata4_7;
00172                             <span class="keywordflow">break</span>;
00173                         }
00174                     }
00175                     <span class="keywordflow">if</span> (*eptr == <a class="code" href="oscl__uuid_8h.html#a3">PV_CHAR_CLOSE_BRACKET</a>) <span class="comment">//Break from the loop on finding</span>
00176                     {
00177                         <span class="keywordflow">break</span>;
00178                     }
00179                     ++eptr;
00180                     sptr = eptr;
00181                 }
00182             }
00183         }
00184     }
00185 
<a name="l00186"></a><a class="code" href="structOsclUuid.html#a3">00186</a>     <a class="code" href="structOsclUuid.html#a0">OsclUuid</a>(<span class="keyword">const</span> <a class="code" href="structOsclUuid.html">OsclUuid</a> &amp;uuid)
00187     {
00188         <a class="code" href="group__osclmemory.html#a11">oscl_memcpy</a>(<span class="keyword">this</span>, &amp;uuid, <span class="keyword">sizeof</span>(<a class="code" href="structOsclUuid.html">OsclUuid</a>));
00189     }
00190 
<a name="l00191"></a><a class="code" href="structOsclUuid.html#a4">00191</a>     <a class="code" href="structOsclUuid.html">OsclUuid</a> &amp;<a class="code" href="structOsclUuid.html#a4">operator=</a>(<span class="keyword">const</span> <a class="code" href="structOsclUuid.html">OsclUuid</a>&amp; src)
00192     {
00193         <a class="code" href="group__osclmemory.html#a11">oscl_memcpy</a>(<span class="keyword">this</span>, &amp;src, <span class="keyword">sizeof</span>(<a class="code" href="structOsclUuid.html">OsclUuid</a>));
00194         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00195     }
00196 
<a name="l00197"></a><a class="code" href="structOsclUuid.html#a5">00197</a>     <span class="keywordtype">bool</span> <a class="code" href="structOsclUuid.html#a5">operator==</a>(<span class="keyword">const</span> <a class="code" href="structOsclUuid.html">OsclUuid</a>&amp; src)<span class="keyword"> const</span>
00198 <span class="keyword">    </span>{
00199         <span class="keywordflow">if</span> (<a class="code" href="structOsclUuid.html#m0">data1</a> != src.<a class="code" href="structOsclUuid.html#m0">data1</a> || <a class="code" href="structOsclUuid.html#m1">data2</a> != src.<a class="code" href="structOsclUuid.html#m1">data2</a> || <a class="code" href="structOsclUuid.html#m2">data3</a> != src.<a class="code" href="structOsclUuid.html#m2">data3</a>)
00200         {
00201             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00202         }
00203 
00204         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; 8; ++ii)
00205         {
00206             <span class="keywordflow">if</span> (<a class="code" href="structOsclUuid.html#m3">data4</a>[ii] != src.<a class="code" href="structOsclUuid.html#m3">data4</a>[ii])
00207             {
00208                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00209             }
00210         }
00211 
00212         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00213     }
00214 
<a name="l00215"></a><a class="code" href="structOsclUuid.html#a6">00215</a>     <span class="keywordtype">bool</span> <a class="code" href="structOsclUuid.html#a6">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structOsclUuid.html">OsclUuid</a> &amp;src)<span class="keyword"> const</span>
00216 <span class="keyword">    </span>{
00217         <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == src);
00218     }
00219 
<a name="l00220"></a><a class="code" href="structOsclUuid.html#m0">00220</a>     uint32  <a class="code" href="structOsclUuid.html#m0">data1</a>;
<a name="l00221"></a><a class="code" href="structOsclUuid.html#m1">00221</a>     uint16  <a class="code" href="structOsclUuid.html#m1">data2</a>;
<a name="l00222"></a><a class="code" href="structOsclUuid.html#m2">00222</a>     uint16  <a class="code" href="structOsclUuid.html#m2">data3</a>;
<a name="l00223"></a><a class="code" href="structOsclUuid.html#m3">00223</a>     uint8   <a class="code" href="structOsclUuid.html#m3">data4</a>[<a class="code" href="oscl__uuid_8h.html#a1">BYTES_IN_UUID_ARRAY</a>];
00224 };
00225 
00226 <span class="preprocessor">#endif</span>
00227 <span class="preprocessor"></span>
</pre></div><hr size="1"><img src="pvlogo_small.jpg"><address style="align: right;"><small>OSCL API</small>
<address style="align: left;"><small>Posting Version: CORE_8.504.1.1 </small>
</small></address>
</body>
</html>
